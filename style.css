:root{
  --bg:#0b1220; --bg-soft:#0f172a; --panel:#111827; --panel-2:#1f2937;
  --text:#e5e7eb; --muted:#9ca3af; --brand:#60a5fa; --brand-2:#34d399; --danger:#ef4444;
  --shadow:0 10px 30px rgba(0,0,0,.35); --radius:16px; --radius-sm:10px; --gap:16px; --gap-lg:24px;
  --hero-image:none;
}
*,*::before,*::after{box-sizing:border-box}
html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
img{max-width:100%;display:block} a{color:var(--brand);text-decoration:none} a:hover{text-decoration:underline}
button{font:inherit;cursor:pointer} .hidden{display:none !important}
.linklike{background:none;border:none;padding:0;color:var(--brand);cursor:pointer}
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}

.app-header{position:sticky;top:0;z-index:50;display:flex;align-items:center;justify-content:space-between;
  padding:10px var(--gap-lg);background:linear-gradient(180deg,rgba(2,6,23,.85),rgba(2,6,23,.65));backdrop-filter:blur(8px);
  border-bottom:1px solid rgba(255,255,255,.06)}
.brand-title{margin:0;font-size:20px;font-weight:700;letter-spacing:.3px}
.top-actions{display:flex;gap:10px}
.app-main{padding:var(--gap-lg);max-width:1200px;margin-inline:auto}
.section-title{margin:28px 0 10px;font-size:18px;font-weight:700;letter-spacing:.2px}

.btn{--btn-bg:var(--panel-2);--btn-fg:var(--text);--btn-bd:rgba(255,255,255,.08);
  padding:10px 14px;border-radius:var(--radius-sm);border:1px solid var(--btn-bd);background:var(--btn-bg);color:var(--btn-fg);
  box-shadow:0 6px 20px rgba(0,0,0,.18);transition:transform .12s ease,background .2s ease,border-color .2s ease}
.btn:hover{transform:translateY(-1px)} .btn:active{transform:translateY(0)}
.btn.primary{--btn-bg:linear-gradient(180deg,#2563eb,#1d4ed8);--btn-bd:rgba(59,130,246,.6)}
.btn.ghost{--btn-bg:transparent;--btn-bd:rgba(255,255,255,.2);backdrop-filter:blur(4px)}
.btn.outline{--btn-bg:transparent;--btn-bd:rgba(255,255,255,.25)}
.btn.nav{padding:8px 12px}
.btn.nav-map{background:linear-gradient(180deg,#10b981,#059669);border-color:rgba(16,185,129,.6)}
.btn.nav-close{background:linear-gradient(180deg,#ef4444,#b91c1c);border-color:rgba(239,68,68,.5)}
.btn.nav-prev,.btn.nav-next{background:linear-gradient(180deg,#374151,#1f2937);border-color:rgba(255,255,255,.15)}

.map-hint{margin:8px 0 18px;padding:10px 12px;background:rgba(59,130,246,.08);border:1px dashed rgba(59,130,246,.35);
  border-radius:12px;color:#cfe1ff}

/* HERO */
.trip-banner{position:relative;min-height:40vh;border-radius:calc(var(--radius) + 2px);overflow:hidden;
  background:linear-gradient(180deg,#101826,#1f2a44);background-image:var(--hero-image);
  background-size:cover;background-position:center;box-shadow:var(--shadow)}
.trip-overlay{position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,.35),rgba(0,0,0,.15))}
#trip-info[data-daypart="night"] .trip-overlay{background:linear-gradient(180deg,rgba(0,0,0,.6),rgba(0,0,0,.3))}
.trip-content{position:absolute;left:20px;bottom:20px;right:20px;display:grid;gap:6px;max-width:900px}
.trip-title{margin:0;font-size:clamp(22px,4vw,34px);font-weight:800;color:#fff;text-shadow:0 2px 14px rgba(0,0,0,.35)}
.trip-hotel,.trip-dates{margin:0;color:#fff;text-shadow:0 1px 8px rgba(0,0,0,.35)}
.trip-hotel a{color:#fff;text-decoration:underline;text-underline-offset:3px}

/* Grid & Ideen */
.grid{display:grid;gap:var(--gap);grid-template-columns:repeat(6,minmax(0,1fr))}
@media (max-width:1024px){.grid{grid-template-columns:repeat(3,minmax(0,1fr))}}
@media (max-width:640px){.grid{grid-template-columns:repeat(2,minmax(0,1fr))}}
.grid>.card,.ideas>.card{background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(255,255,255,.02));
  border:1px solid rgba(255,255,255,.08);border-radius:var(--radius);padding:14px;box-shadow:var(--shadow)}
.ideas{display:grid;gap:var(--gap)}

/* Bottom Sheet */
.sheet{position:fixed;left:0;right:0;bottom:0;z-index:60;background:var(--panel);
  border-top-left-radius:22px;border-top-right-radius:22px;box-shadow:0 -20px 40px rgba(0,0,0,.55);
  max-height:92vh;display:grid;grid-template-rows:auto 1fr}
.sheet[aria-hidden="true"]{display:none}
.sheet__header{display:flex;align-items:center;justify-content:space-between;gap:10px;padding:12px 14px;
  border-bottom:1px solid rgba(255,255,255,.08);background:linear-gradient(180deg,rgba(255,255,255,.04),rgba(255,255,255,.02));
  border-top-left-radius:inherit;border-top-right-radius:inherit}
.sheet__actions{display:flex;gap:8px;align-items:center}
.sheet__content{overflow:auto;padding:12px 14px 20px}

.timeline{display:grid;gap:10px}
.timeline .item{padding:10px 12px;border-radius:12px;background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.08)}

/* Modal: Karte */
.modal{position:fixed;inset:0;z-index:70;display:grid;place-items:center;background:rgba(0,0,0,.5)}
.modal[aria-hidden="true"]{display:none}
.modal__content{position:relative;width:min(1100px,92vw);height:min(70vh,80vw);background:var(--panel-2);
  border:1px solid rgba(255,255,255,.08);border-radius:var(--radius);overflow:hidden;box-shadow:var(--shadow)}
.modal__close{position:absolute;top:10px;right:10px}
.map{width:100%;height:100%}
#mapHint{position:absolute;left:12px;bottom:10px;font-size:12px;color:var(--muted);background:rgba(0,0,0,.4);
  padding:6px 8px;border-radius:8px}

.leaflet-control-zoom a{border-radius:8px !important;box-shadow:0 6px 14px rgba(0,0,0,.25)}
.app-footer{padding:18px var(--gap-lg);text-align:center;color:var(--muted);border-top:1px solid rgba(255,255,255,.06);background:rgba(2,6,23,.4)}

@media (prefers-reduced-motion:reduce){*{transition:none !important;animation:none !important}}
@media (prefers-color-scheme:light){
  :root{--bg:#f4f6fb;--bg-soft:#f7f9ff;--panel:#ffffff;--panel-2:#f7fafc;--text:#111827;--muted:#4b5563;--shadow:0 10px 30px rgba(0,0,0,.12)}
  .app-header{background:linear-gradient(180deg,rgba(255,255,255,.85),rgba(255,255,255,.7))}
  .trip-title,.trip-hotel,.trip-dates{text-shadow:none}
}
